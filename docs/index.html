<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Build and format drug episodes for health-state transition modelling â€¢ episodes</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Build and format drug episodes for health-state transition modelling">
<meta name="description" content="Build and format drug episodes with health transition states from drug prescription data. Outputs can be fed into a health economic model for cost-effectiveness calculations.">
<meta property="og:description" content="Build and format drug episodes with health transition states from drug prescription data. Outputs can be fed into a health economic model for cost-effectiveness calculations.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">episodes</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/drug_episodes.html">Constructing drug episodes and deriving Weibull transition estimates: Assumptions and Workflow</a></li>
    <li><a class="dropdown-item" href="articles/drug_episodes_breast.html">Constructing drug episodes for breast (capecitabine)</a></li>
    <li><a class="dropdown-item" href="articles/drug_episodes_crc.html">Constructing drug episodes for CRC (FOLFIRI)</a></li>
    <li><a class="dropdown-item" href="articles/drug_episodes_lung.html">Constructing drug episodes for lung (cisplatin|carboplatin)</a></li>
    <li><a class="dropdown-item" href="articles/drug_episodes_pancreatic.html">Constructing drug episodes for pancreatic (gemcitabine)</a></li>
    <li><a class="dropdown-item" href="articles/drug_episodes_sarcoma.html">Constructing drug episodes for sarcoma (docetaxel,gemcitabine)</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ntmv/episodes/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><p><!-- badges: start --> <a href="https://github.com/Regulatory-Science-Lab/episodes/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/Regulatory-Science-Lab/episodes/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a> <!-- badges: end --></p>
<div class="section level1">
<div class="page-header"><h1 id="episodes">episodes<a class="anchor" aria-label="anchor" href="#episodes"></a>
</h1></div>
<p><code>episodes</code> is an R package for estimating transition probabilities from prescription data. The package has specific functions catered to the Flatiron oncogenomic database but can be used on other cancer prescription datasets as well to estimate transition health states from the data.</p>
<p>This R package provides utilities to generate: - <strong>Death tables</strong> - <strong>Summary tables of state counts</strong> - <strong>Kaplan-Meier survival curves</strong> - <strong>Weibull shape and scale parameter estimates</strong></p>
<p>It is designed to integrate with the <a href="https://docs.ropensci.org/targets/" class="external-link"><code>{targets}</code></a> pipeline system for reproducible and modular workflows.</p>
<div class="section level2">
<h2 id="id_-installation">ðŸ“¦ Installation<a class="anchor" aria-label="anchor" href="#id_-installation"></a>
</h2>
<p>You can install the development version of the package directly from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"Regulatory-Science-Lab/episodes"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="id_-usage">ðŸš€ Usage<a class="anchor" aria-label="anchor" href="#id_-usage"></a>
</h2>
<p>The episodes pipeline can be run in a single line with the <code>run_episodes_pipeline</code> function. It takes in a <code>tibble</code> with the following columns:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/run_episodes_pipeline.html">run_episodes_pipeline</a></span><span class="op">(</span></span>
<span>    <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>        tumour <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"nsclc"</span>, <span class="st">"breast"</span>, <span class="st">"pancreatic"</span>, <span class="st">"thyroid"</span>, <span class="st">"crc"</span>, <span class="st">"sarcoma"</span><span class="op">)</span>,</span>
<span>        treatment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cisplatin|carboplatin"</span>, <span class="st">"capecitabine"</span>, <span class="st">"gemcitabine"</span>,<span class="st">"cabozantinib"</span>, <span class="st">"folfiri"</span>, <span class="st">"docetaxel,gemcitabine"</span><span class="op">)</span>,</span>
<span>        exact <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span><span class="op">)</span></span>
<span>    <span class="op">)</span>, dir <span class="op">=</span> <span class="st">"YOUR DIRECTORY"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>where <code>exact</code> represents whether we want to search for a combination of drugs (<code>exact = FALSE</code>) or only the specific treatment given by itself (<code>exact = TRUE</code>).</p>
<p>This will:</p>
<ul>
<li><p>Prepare drug episode data</p></li>
<li><p>Construct state transitions</p></li>
<li><p>Estimate Weibull parameters per state</p></li>
<li><p>Output results to a timestamped Excel file</p></li>
</ul>
<p>For the Excel file to be saved, you MUST have a template Excel file that is compatible to be populated with the health state estimates saved in the <code>dir</code> (directory) that you specify (see <code>h:\PREDiCText\nirupama\weibull_estimates\01_public_parameters_updatedNT.xlsx</code>)</p>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/ntmv/episodes/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ntmv/episodes/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing episodes</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Nirupama Tamvada <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nirupama Tamvada.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
